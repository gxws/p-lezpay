!function(a){function b(a){return a.parent().next(".error").html('<i class="glyphicon glyphicon-remove-sign"></i>'+f),!1}var c=($(a),$(document),a.WS||(a.WS={})),d={},e=c.base||(c.base={}),f="";e.nionpaySubmit=function(a){var c=a.find("[data-type=carname]"),d=a.find("[data-type=idcard]"),e=d.val(),g=a.find("[data-type=passwd]"),h=g.val(),i=a.find("[data-type=phone]"),j=i.val(),k="",l=a.find("[data-type=validity]"),m=l.val(),n=a.find("[data-type=afterthree]"),o=n.val(),p=a.find("[data-type=vcode]"),q=p.val();return c.size()&&(f=""==c.val()?"姓名不能为空":"",""!=f)?b(c):d.size()&&(f=6!=e.length?"请输入身份证的最后6位！":"",""!=f)?b(d):g.size()&&(f=/^[0-9]{6}$/.test(h)?"":"银行卡密码只能为6位数字",""!=f)?b(g):i.size()&&(k=j.replace(/\D/g,""),f=/^[0-9]{11}$/.test(k)?"":"手机号只能是11位数字！",""!=f)?b(i):l.size()&&(f=/^[0-9]{4}$/.test(m)?"":"有效期只能是4位数字！",""!=f)?b(l):n.size()&&(f=/^[0-9]{3}$/.test(o)?"":"请输入卡背面最后3位数字！",""!=f)?b(n):p.size()&&(f=""==q?"短信验证码不能为空!":/^[0-9]{6}$/.test(q)?"":"短信验证码只能是6位数字！",""!=f)?($(".J_j_vcode").next(".error").html('<i class="glyphicon glyphicon-remove-sign"></i>'+f),!1):void 0},e.idSubmit=function(a,c,d){var g=c.find("[data-type=cardnub]"),h=g.val().replace(/\D/g,""),i=h.length;return $banks=$(".J_j_banks"),vsize=$banks.size(),$payment=$(".J_j_payment"),tag=$payment.hasClass("disabled"),g.size()&&(f=16!=i&&19!=i?"付款银行卡只能是16或19位数字！":"",""!=f)?b(g):void e.ajaxgo(a.attr("data-url"),function(a){1==a.status?($banks.attr("checked",!1).parent(".active").removeClass("active"),$(".J_j_add_card").parent("p").before('<div class="radio banks"><label class="active"><input class="J_j_banks" type="radio" name="'+a.data.name+'" checked="checked" id="optionsRadios'+(vsize+1)+'" value="'+a.data.idcard+'"><span>'+a.data.info+"</span></label></div>"),tag?$payment.removeClass("disabled"):!1,d()):(f=a.message,b(g))},{status:"1",message:"卡号错误！",data:{name:"optionsRadios",idcard:"45665456465465",info:"中国银行（信用卡）2000****3333"}},{idcard:h})},e.loginSubmit=function(a){var b,c=a.find("[data-verify=phone]"),d=c.val().replace(/\s/g,""),e=a.find("[data-verify=password]"),f=e.val(),g=a.find("[data-verify-prompt=login]");return""==d?(b="请输入您注册的手机号！",c.focus()):/^\d{11}$/.test(d)?""==f&&(b="请输入密码！",e.focus()):(b="手机号只能是11位数字！",c.focus()),b?(g.html('<i class="glyphicon glyphicon-remove-sign"></i>'+b),!1):void 0},e.gAin=function(a,b,c){e.ajaxgo(a.attr("href"),function(a){1==a.status?c():$(".J_j_error").html('<i class="glyphicon glyphicon-remove-sign"></i>'+a.message)},{status:"1",message:"您输入的手机号码不存在，请重新输入。"},{phone:b.replace(/\D/g,"")})},e.ajaxgo=function(a,b,c,d,e,f){b=b||Fn,"javascript:;"==a?b(c):$[e||"post"](a,d,b,f||"json")},e.p64safety=function(a){var b=a.find("[data-verify=phone]"),c=b.val().replace(/\s/g,""),d=a.find("[data-verify=code]"),e=d.val(),f='<i class="glyphicon glyphicon-remove-sign"></i>';return""==c?(b.parent(".pa").next(".error").html(f+"请您输入手机号！"),b.focus(),!1):/^\w{11}$/.test(c)?/^\d+$/.test(c)?""==e?(d.parent(".pa").next(".error").html(f+"请输入验证码！"),d.focus(),!1):/^\d{6}$/.test(e)?void 0:(d.parent(".pa").next(".error").html(f+"验证码只能是6位数字！"),d.focus(),!1):(b.parent(".pa").next(".error").html(f+"手机号全都是数字喔。"),b.focus(),!1):(b.parent(".pa").next(".error").html(f+"手机号应该是11位喔。"),b.focus(),!1)},e.p64safetypwd=function(a){var b=a.find("[data-verify=pwd]"),c=b.val(),d=a.find("[data-verify=agpwd]"),e=d.val(),f='<i class="glyphicon glyphicon-remove-sign"></i>';return""==c?(b.parent(".pa").next(".error").html(f+"请输入密码！"),b.focus(),!1):/^\d{6}$/.test(c)?""==e?(d.parent(".pa").next(".error").html(f+"请输入确认密码！"),d.focus(),!1):e!=c?(d.parent(".pa").next(".error").html(f+"输入的确认密码和密码不一致喔！"),d.focus(),!1):void 0:(b.parent(".pa").next(".error").html(f+"密码只能是6位数字喔！"),b.focus(),!1)},e.registerSubmit=function(a){function b(a,b){a.parents(".form-group").find(".error").html('<i class="glyphicon glyphicon-remove-sign"></i>'+b)}var c=a.find("[data-formName=phone]"),d=c.val(),e=a.find("[data-formName=password]"),f=e.val(),g=a.find("[data-formName=conPassword]"),h=g.val(),i=a.find("[data-formName=verCode]"),j=i.val();return/^\d{11}$/.test(d.replace(/\W/g,""))?/^\d{6}$/.test(f)?f!=h?(b(g,"输入的确认密码和密码不匹配喔！"),!1):/^\d{6}$/.test(j)?void 0:(b(i,"短信验证码只能是6位数字！"),!1):(b(e,"密码只能是6位数字喔"),!1):(b(c,"手机号只能是11位数字！"),!1)},e.wxCallback=null,e.wxGoToPay=function(a){return $.xajax($(a).attr("data-ajax-getWxApiInfoUrl"),function(a){+a.status&&WeixinJSBridge.invoke("getBrandWCPayRequest",a.data,e.wxCallback)},{status:"1",data:{appId:"wx2e8e96fbaad951cf",timeStamp:"1413446649",nonceStr:"YZoasrffkPWHMlaI","package":"bank_type=WX&body=%E6%94%AF%E4%BB%98%E6%B5%8B%E8%AF%95%E8%BF%9E%E6%8E%A5&fee_type=1&input_charset=GBK&notify_url=https%3A%2F%2Fweixin.code.lezpay.cn%2Fwxpay%2FreceiptNotify&out_trade_no=0%3A0%3A0%3A0%3A0%3A0%3A0%3A1&partner=1219711201&spbill_create_ip=0000225&total_fee=140&sign=4D2DCFF73195187666814D8A176EDEF9",signType:"SHA1",paySign:"55ddfac3af969cf81f2042d1d127bbf590479a1b"}},{jifen:$(".J_c_intprice").prop("checked")?1:0,yue:$(".J_c_surprice").prop("checked")?1:0,channelId:$(".J_j_wexin").val()}),!1},$.extend(e,$.loader(d))}(window);